<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Gestion des Concours</h2>
    <button class="btn btn-primary" routerLink="/admin/concours/add">
      <i class="bi bi-plus-circle me-2"></i>Nouveau Concours
    </button>
  </div>

  <!-- Search Filter -->
  <div class="card mb-4">
    <div class="card-body">
      <div class="input-group">
        <span class="input-group-text">
          <i class="bi bi-search"></i>
        </span>
        <input 
          type="text" 
          class="form-control" 
          placeholder="Rechercher un concours..." 
          [(ngModel)]="searchTerm"
          (ngModelChange)="filterConcours()"
        >
      </div>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Nom du Concours</th>
          <th>Date DÃ©but</th>
          <th>Date Fin</th>
          <th>Nombre de Postes</th>
          <th>Statut</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let concours of filteredConcours">
          <td>{{concours.nomConcours}}</td>
          <td>{{concours.dateDebut | date:'dd/MM/yyyy'}}</td>
          <td>{{concours.dateFin | date:'dd/MM/yyyy'}}</td>
          <td>{{concours.nombrePostes}}</td>
          <td>
            <span class="badge" [ngClass]="getStatutClass(concours.dateFin)">
              {{getStatutLabel(concours.dateFin)}}
            </span>
          </td>
          <td>
            <button class="btn btn-sm btn-outline-primary me-2" (click)="modifierConcours(concours.id)">
              <i class="bi bi-pencil"></i>
            </button>
            <button class="btn btn-sm btn-outline-danger" (click)="supprimerConcours(concours.id)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
